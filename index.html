<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RCMP | Experience Design Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; letter-spacing: -0.025em; background-color: #fcfcfd; color: #101828; margin: 0; }
        .sidebar-item { transition: all 0.2s ease; border-radius: 12px; margin: 2px 12px; display: flex; align-items: center; width: calc(100% - 24px); position: relative; cursor: pointer; border: none; background: transparent; text-align: left; font-size: 14px; font-weight: 500; }
        .sidebar-active { background-color: #f5f8ff; color: #0058AB !important; font-weight: 700; box-shadow: inset 4px 0 0 -1px #0058AB; }
        .glass-card { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); border: 1px solid #f0f2f5; border-radius: 2.5rem; }
        .btn-clickable { cursor: pointer; transition: all 0.2s; border: none; }
        .btn-clickable:active { transform: scale(0.98); }
        .input-field { background-color: #f0f4f9; border: none; border-radius: 12px; padding: 16px; width: 100%; outline: none; font-weight: 500; }
        .status-dot { width: 10px; height: 10px; border-radius: 50%; }
        .red-dot { width: 6px; height: 6px; background-color: #ef4444; border-radius: 50%; display: inline-block; margin-left: 6px; }
        .badge-count { background-color: #ef4444; color: white; font-size: 10px; font-weight: 900; padding: 2px 6px; border-radius: 10px; position: absolute; right: 12px; }
        .admin-tab-bar { background-color: #f3f4f6; padding: 6px; border-radius: 18px; display: inline-flex; gap: 4px; }
        .admin-tab { padding: 8px 20px; border-radius: 12px; font-size: 12px; font-weight: 700; transition: all 0.2s; cursor: pointer; border: none; position: relative; }
        .admin-tab-active { background-color: white; box-shadow: 0 2px 4px rgba(0,0,0,0.05); color: #101828; }
        .hero-gradient { background: linear-gradient(135deg, #004d99 0%, #0058AB 100%); position: relative; }
        .hero-text-main { color: #FFD700; font-size: 72px; font-weight: 900; font-style: italic; line-height: 0.9; filter: drop-shadow(0 4px 10px rgba(0,0,0,0.2)); }
        .hero-text-sub { color: #ffffff; font-size: 14px; font-weight: 700; letter-spacing: 0.5em; opacity: 0.6; margin-top: 10px; }
        .hero-bg-text { position: absolute; font-size: 180px; font-weight: 900; color: rgba(255,255,255,0.05); top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 0; pointer-events: none; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;
        const SUPABASE_URL = 'https://mgkhhsiwnndsy rrakdho.supabase.co'.replace(/\s/g, '');
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1na2hoc2l3bm5kc3lycmFrZGhvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1ODkwMDksImV4cCI6MjA4NjE2NTAwOX0.gIeRH6Ckck-K59-zUi7G3KeB0hoCR0bjpQ5h4W9Ec6Y';
        const supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

        const App = () => {
            const [user, setUser] = useState(null);
            const [view, setView] = useState('dashboard');
            const [adminSubView, setAdminSubView] = useState('Tasks');
            const [requests, setRequests] = useState([]);
            const [systems, setSystems] = useState([]);
            const [insights, setInsights] = useState([]);
            const [activeDecision, setActiveDecision] = useState(null);
            const [calendarEvents, setCalendarEvents] = useState([]);

            const ADMIN_EMAILS = [
                'henrik.h.wiik@gmail.com',
                'marthe.dotterud@ingka.ikea.com',
                'knut.reinholdtsen@ingka.ikea.com',
                'karolina.chudy@ingka.ikea.com'
            ];

            useEffect(() => {
                const init = async () => {
                    const { data: { session } } = await supabaseClient.auth.getSession();
                    if (session?.user) { setUser(session.user); fetchAllData(); }
                };
                init();
            }, []);

            const fetchAllData = async () => {
                const [r, s, i, c] = await Promise.all([
                    supabaseClient.from('requests').select('*').order('created_at', { ascending: false }),
                    supabaseClient.from('system_status').select('*').order('id', { ascending: true }),
                    supabaseClient.from('insights').select('*').order('id', { ascending: true }),
                    supabaseClient.from('calendar_events').select('*').order('date', { ascending: true })
                ]);
                setRequests(r.data || []);
                setSystems(s.data || []);
                setInsights(i.data || []);
                setCalendarEvents(c.data || []);
            };

            const submitRequest = async (type, title, description = "") => {
                const fullTitle = description ? `${title} | Begrunnelse: ${description}` : title;
                await supabaseClient.from('requests').insert([{
                    type,
                    title: fullTitle,
                    requested_by: user.email,
                    status: 'Open',
                    assigned_to: 'Ikke tildelt',
                    created_at: new Date().toISOString()
                }]);
                setView('dashboard');
                await fetchAllData();
            };

            const updateDb = async (table, id, updates) => {
                const { error } = await supabaseClient
                    .from(table)
                    .update(updates)
                    .eq('id', id);

                if (error) {
                    alert('Kunne ikke oppdatere saken: ' + error.message);
                    console.error('Supabase update error:', error);
                    return;
                }
                await fetchAllData();
            };

            const addCalendarEvent = async (event) => {
                const { error } = await supabaseClient
                    .from('calendar_events')
                    .insert([{ ...event, created_by: user.email }]);
                if (error) {
                    alert('Kunne ikke lagre kalenderoppf√∏ring: ' + error.message);
                    console.error('calendar insert error:', error);
                    return;
                }
                await fetchAllData();
            };

            const getStaffColor = (name) => {
                if (name === 'Ikke tildelt') return 'text-red-500';
                if (name === 'Henrik') return 'text-[#0058AB]';
                if (name === 'Marthe') return 'text-emerald-500';
                if (name === 'Karolina') return 'text-purple-500';
                return 'text-gray-900';
            };

            const taskCount = useMemo(
                () => requests.filter(r => r.status === 'Open' && r.type !== 'ACCESS').length,
                [requests]
            );
            const accessCount = useMemo(
                () => requests.filter(r => r.status === 'Open' && r.type === 'ACCESS').length,
                [requests]
            );
            const totalAlerts = taskCount + accessCount;

            if (!user) return <LoginScreen onLogin={(u) => { setUser(u); fetchAllData(); }} />;

            return (
                <div className="flex min-h-screen">
                    {activeDecision && (
                        <div className="fixed inset-0 bg-black/40 backdrop-blur-sm z-50 flex items-center justify-center p-6">
                            <div className="bg-white p-10 rounded-[2.5rem] w-full max-w-md shadow-2xl">
                                <h3 className="text-2xl font-black mb-2">
                                    {activeDecision.status === 'Rejected' ? 'Avsl√• foresp√∏rsel' : 'Fullf√∏r foresp√∏rsel'}
                                </h3>
                                <p className="text-gray-400 text-sm mb-6 font-bold uppercase tracking-widest">
                                    Legg ved en melding til bruker
                                </p>
                                <textarea
                                    id="reasonTxt"
                                    className="input-field h-32 mb-6"
                                    placeholder="Skriv kommentar her..."
                                ></textarea>
                                <div className="flex gap-4">
                                    <button
                                        onClick={() => setActiveDecision(null)}
                                        className="flex-1 font-bold text-gray-400"
                                    >
                                        Avbryt
                                    </button>
                                    <button
                                        onClick={async () => {
                                            await updateDb('requests', activeDecision.id, {
                                                status: activeDecision.status,
                                                admin_reason: document.getElementById('reasonTxt').value,
                                                resolved_at: new Date().toISOString()
                                            });
                                            setActiveDecision(null);
                                        }}
                                        className={`flex-[2] py-4 rounded-2xl font-black uppercase tracking-widest text-white ${
                                            activeDecision.status === 'Rejected'
                                                ? 'bg-red-500'
                                                : 'bg-slate-900'
                                        }`}
                                    >
                                        Bekreft
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                    <aside className="w-72 bg-white border-r fixed h-full pt-12 flex flex-col">
                        <div className="px-10 mb-8">
                            <h1 className="text-4xl font-black italic leading-none text-[#0058AB]">RCMP</h1>
                            <p className="text-[10px] font-bold uppercase tracking-[0.2em] text-slate-400 mt-1">
                                Experience Design Portal
                            </p>
                        </div>
                        <nav className="flex-1">
                            <NavItem
                                active={view === 'dashboard'}
                                onClick={() => setView('dashboard')}
                                icon="üë§"
                                label="Min side"
                            />
                            <div className="mx-8 border-t border-gray-100 my-4"></div>
                            <NavItem
                                active={view === 'live'}
                                onClick={() => setView('live')}
                                icon="üõ∞Ô∏è"
                                label="Live Ops"
                            />
                            <NavItem
                                active={view === 'insights'}
                                onClick={() => setView('insights')}
                                icon="üí°"
                                label="Insight Engine"
                            />
                            <div className="mx-8 border-t border-gray-100 my-4"></div>
                            <NavItem
                                active={view === 'access'}
                                onClick={() => setView('access')}
                                icon="üîë"
                                label="Be om tilgang"
                            />
                            <NavItem
                                active={view === 'new'}
                                onClick={() => setView('new')}
                                icon="‚ú®"
                                label="Ny foresp√∏rsel"
                            />
                            <NavItem
                                active={view === 'error'}
                                onClick={() => setView('error')}
                                icon="‚ö†Ô∏è"
                                label="Rapporter feil"
                            />
                            <div className="mx-8 border-t border-gray-100 my-4"></div>
                            {ADMIN_EMAILS.includes(user.email?.toLowerCase()) && (
                                <button
                                    onClick={() => setView('admin')}
                                    className={`sidebar-item px-6 py-4 font-bold ${
                                        view === 'admin' ? 'sidebar-active' : 'text-red-500'
                                    }`}
                                >
                                    üõ°Ô∏è Control Center{' '}
                                    {totalAlerts > 0 && <span className="badge-count">{totalAlerts}</span>}
                                </button>
                            )}
                        </nav>
                        <button
                            onClick={async () => {
                                await supabaseClient.auth.signOut();
                                setUser(null);
                            }}
                            className="m-8 p-4 text-[10px] font-black uppercase tracking-widest text-gray-400 hover:text-red-500 text-left"
                        >
                            ‚Üê Logg ut
                        </button>
                    </aside>

                    <main className="flex-1 ml-72 p-16">
                        <div className="max-w-5xl mx-auto">
                            {view === 'dashboard' && (
                                <DashboardView requests={requests} user={user} getStaffColor={getStaffColor} />
                            )}
                            {view === 'live' && <LiveView systems={systems} />}
                            {view === 'insights' && <InsightsView insights={insights} />}

                            {view === 'access' && (
                                <div className="animate-in fade-in slide-in-from-bottom-4 duration-500">
                                    <h2 className="text-4xl font-black italic mb-10 text-[#0058AB]">Be om tilgang</h2>
                                    <div className="glass-card p-10 bg-white shadow-xl">
                                        <p className="text-xs font-black uppercase tracking-widest text-gray-400 mb-4 ml-2">
                                            Velg app eller rapport
                                        </p>
                                        <select
                                            id="accessSelect"
                                            className="input-field mb-6 text-xl appearance-none"
                                        >
                                            <optgroup label="App: RCMP Performance">
                                                <option>RCMP Performance: Happy Customer Score</option>
                                                <option>RCMP Performance: Authorisation Performance Tool</option>
                                                <option>RCMP Performance: Median Performance Tool</option>
                                                <option>RCMP Performance: BackOffice FollowUp</option>
                                            </optgroup>
                                            <optgroup label="App: Customer Insight Norway">
                                                <option>Customer Insight Norway: Compensation</option>
                                                <option>Customer Insight Norway: SAC</option>
                                                <option>Customer Insight Norway: After Sales</option>
                                                <option>Customer Insight Norway: Repeated Calls</option>
                                            </optgroup>
                                            <optgroup label="Enkeltst√•ende rapporter">
                                                <option>
                                                    Workspace Planning: Shrinkage Report - RCMP Norway
                                                </option>
                                            </optgroup>
                                        </select>
                                        <p className="text-xs font-black uppercase tracking-widest text-gray-400 mb-4 ml-2">
                                            Begrunnelse
                                        </p>
                                        <textarea
                                            id="accessReason"
                                            className="input-field h-32 mb-6"
                                            placeholder="Hvorfor trenger du denne tilgangen?"
                                        ></textarea>
                                        <button
                                            onClick={() =>
                                                submitRequest(
                                                    'ACCESS',
                                                    document.getElementById('accessSelect').value,
                                                    document.getElementById('accessReason').value
                                                )
                                            }
                                            className="bg-[#0058AB] text-white px-10 py-5 rounded-2xl font-black uppercase tracking-widest btn-clickable"
                                        >
                                            Send foresp√∏rsel ‚ûú
                                        </button>
                                    </div>
                                </div>
                            )}

                            {view === 'new' && (
                                <FormWithTitleView
                                    title="Ny foresp√∏rsel"
                                    onSubmit={(t, d) => submitRequest('TASK', t, d)}
                                />
                            )}
                            {view === 'error' && (
                                <FormWithTitleView
                                    title="Rapporter feil"
                                    onSubmit={(t, d) => submitRequest('ERROR', t, d)}
                                />
                            )}

                            {view === 'admin' && (
                                <AdminPanel
                                    requests={requests}
                                    systems={systems}
                                    insights={insights}
                                    subView={adminSubView}
                                    setSubView={setAdminSubView}
                                    onUpdate={updateDb}
                                    onDecide={(id, s) => setActiveDecision({ id, status: s })}
                                    counts={{ tasks: taskCount, access: accessCount }}
                                    getStaffColor={getStaffColor}
                                    calendarEvents={calendarEvents}
                                    onSaveCalendar={addCalendarEvent}
                                />
                            )}
                        </div>
                    </main>
                </div>
            );
        };

        const NavItem = ({ icon, label, onClick, active }) => (
            <button
                onClick={onClick}
                className={`sidebar-item px-6 py-4 ${active ? 'sidebar-active' : 'text-slate-600'}`}
            >
                <span className="mr-3">{icon}</span> {label}
            </button>
        );

        const FormWithTitleView = ({ title, onSubmit }) => {
            const [t, setT] = useState('');
            const [d, setD] = useState('');
            return (
                <div className="animate-in fade-in slide-in-from-bottom-4 duration-500">
                    <h2 className="text-4xl font-black italic mb-10 text-[#0058AB]">{title}</h2>
                    <div className="glass-card p-10 bg-white shadow-xl">
                        <p className="text-xs font-black uppercase tracking-widest text-gray-400 mb-4 ml-2">Tittel</p>
                        <input
                            value={t}
                            onChange={e => setT(e.target.value)}
                            className="input-field mb-6 text-xl"
                            placeholder="Kort overskrift..."
                        />
                        <p className="text-xs font-black uppercase tracking-widest text-gray-400 mb-4 ml-2">
                            Beskrivelse
                        </p>
                        <textarea
                            value={d}
                            onChange={e => setD(e.target.value)}
                            className="w-full h-40 bg-gray-50 rounded-3xl p-8 outline-none text-xl font-medium mb-6"
                            placeholder="Beskriv saken n√¶rmere..."
                        ></textarea>
                        <button
                            onClick={() => {
                                if (t) {
                                    onSubmit(t, d);
                                    setT('');
                                    setD('');
                                }
                            }}
                            className="bg-[#0058AB] text-white px-10 py-5 rounded-2xl font-black uppercase tracking-widest btn-clickable"
                        >
                            Send inn ‚ûú
                        </button>
                    </div>
                </div>
            );
        };

        const DashboardView = ({ requests, user, getStaffColor }) => (
            <div className="space-y-8 animate-in fade-in duration-500">
                <h2 className="text-4xl font-black italic text-[#0058AB]">Min side</h2>
                {requests
                    .filter(r => r.requested_by === user.email)
                    .map(req => (
                        <div
                            key={req.id}
                            className="glass-card p-8 flex justify-between items-center bg-white border-l-8 border-l-blue-500 shadow-sm"
                        >
                            <div className="flex-1 pr-6">
                                <span
                                    className={`text-[9px] font-black uppercase px-2 py-1 rounded ${
                                        req.status === 'Open'
                                            ? 'bg-blue-50 text-blue-600'
                                            : req.status === 'Rejected'
                                            ? 'bg-red-50 text-red-600'
                                            : 'bg-emerald-50 text-emerald-600'
                                    }`}
                                >
                                    {req.status === 'Open'
                                        ? 'Behandles'
                                        : req.status === 'Rejected'
                                        ? 'Avvist'
                                        : 'Fullf√∏rt'}
                                </span>
                                <h3 className="text-xl font-black mt-2">{req.title}</h3>
                                {req.admin_reason && (
                                    <p className="text-sm italic text-blue-600 mt-2 font-medium">
                                        "{req.admin_reason}"
                                    </p>
                                )}
                                <p className="text-[10px] text-gray-400 font-bold mt-2">
                                    Meldt: {new Date(req.created_at).toLocaleString('no-NO')}
                                </p>
                            </div>
                            <div className="text-right whitespace-nowrap">
                                <p className="text-[10px] font-black text-gray-400 uppercase">Ansvarlig</p>
                                <p className={`font-black ${getStaffColor(req.assigned_to)}`}>
                                    {req.assigned_to}
                                </p>
                            </div>
                        </div>
                    ))}
            </div>
        );

        const LiveView = ({ systems }) => (
            <div className="space-y-8 animate-in fade-in duration-500">
                <h2 className="text-4xl font-black italic text-[#0058AB]">Live Ops</h2>
                <div className="grid gap-6">
                    {systems.map(s => (
                        <div
                            key={s.id}
                            className="glass-card p-8 bg-white flex items-center justify-between shadow-sm"
                        >
                            <div className="flex items-center gap-6">
                                <div
                                    className={`status-dot ${
                                        s.status === 'online'
                                            ? 'bg-emerald-500 shadow-[0_0_15px_rgba(16,185,129,0.5)]'
                                            : 'bg-amber-500 animate-pulse'
                                    }`}
                                ></div>
                                <div>
                                    <h3 className="text-2xl font-black">{s.system_name}</h3>
                                    <p className="text-gray-400 font-medium">
                                        {s.status_message || 'Opererer normalt'}
                                    </p>
                                </div>
                            </div>
                        </div>
                    ))}
                </div>
            </div>
        );

        const InsightsView = ({ insights }) => (
            <div className="space-y-8 animate-in fade-in duration-500">
                <h2 className="text-4xl font-black italic text-[#0058AB]">Insight Engine</h2>
                <div className="grid grid-cols-2 gap-8">
                    {insights
                        .filter(i => i.is_active)
                        .map(item => (
                            <div key={item.id} className="glass-card overflow-hidden bg-white shadow-lg">
                                <div className="h-52 bg-gray-100">
                                    <img src={item.image_url} className="w-full h-full object-cover" />
                                </div>
                                <div className="p-10">
                                    <span className="text-[10px] font-black uppercase text-blue-600">
                                        {item.tag}
                                    </span>
                                    <h3 className="text-2xl font-black mt-2">{item.title}</h3>
                                    {item.link_url ? (
                                        <a
                                            href={item.link_url}
                                            target="_blank"
                                            rel="noopener noreferrer"
                                            className="block mt-8"
                                        >
                                            <button
                                                style={{ backgroundColor: item.color_hex }}
                                                className="w-full text-white py-4 rounded-2xl font-black uppercase text-xs btn-clickable"
                                            >
                                                √Öpne rapport ‚ûú
                                            </button>
                                        </a>
                                    ) : (
                                        <button
                                            style={{ backgroundColor: item.color_hex }}
                                            className="w-full text-white py-4 rounded-2xl font-black uppercase text-xs mt-8 btn-clickable"
                                        >
                                            √Öpne rapport ‚ûú
                                        </button>
                                    )}
                                </div>
                            </div>
                        ))}
                </div>
            </div>
        );

        const AdminPanel = ({
            requests,
            systems,
            insights,
            subView,
            setSubView,
            onUpdate,
            onDecide,
            counts,
            getStaffColor,
            calendarEvents,
            onSaveCalendar
        }) => {
            const openTasks = requests.filter(r => r.status === 'Open' && r.type !== 'ACCESS');
            const unassigned = openTasks.filter(
                r => !r.assigned_to || r.assigned_to === 'Ikke tildelt'
            );
            const assigned = openTasks.filter(
                r => r.assigned_to && r.assigned_to !== 'Ikke tildelt'
            );

            const typeTag = (type) => {
                if (type === 'ERROR') return { label: 'FEILRAPPORT', classes: 'bg-red-100 text-red-700' };
                if (type === 'TASK') return { label: 'BESTILLING', classes: 'bg-sky-100 text-sky-700' };
                if (type === 'ACCESS') return { label: 'TILGANG', classes: 'bg-amber-100 text-amber-700' };
                return { label: 'SAK', classes: 'bg-gray-100 text-gray-600' };
            };

            return (
                <div className="space-y-10 animate-in fade-in duration-500">
                    <div className="admin-tab-bar">
                        <button
                            onClick={() => setSubView('Tasks')}
                            className={`admin-tab ${subView === 'Tasks' ? 'admin-tab-active' : 'text-gray-400'}`}
                        >
                            Tasks {counts.tasks > 0 && <span className="red-dot"></span>}
                        </button>
                        <button
                            onClick={() => setSubView('Access')}
                            className={`admin-tab ${subView === 'Access' ? 'admin-tab-active' : 'text-gray-400'}`}
                        >
                            Access {counts.access > 0 && <span className="red-dot"></span>}
                        </button>
                        <button
                            onClick={() => setSubView('Logg')}
                            className={`admin-tab ${subView === 'Logg' ? 'admin-tab-active' : 'text-gray-400'}`}
                        >
                            Logg
                        </button>
                        <button
                            onClick={() => setSubView('Live')}
                            className={`admin-tab ${subView === 'Live' ? 'admin-tab-active' : 'text-gray-400'}`}
                        >
                            Live
                        </button>
                        <button
                            onClick={() => setSubView('Insights')}
                            className={`admin-tab ${subView === 'Insights' ? 'admin-tab-active' : 'text-gray-400'}`}
                        >
                            Insights
                        </button>
                        <button
                            onClick={() => setSubView('Calendar')}
                            className={`admin-tab ${subView === 'Calendar' ? 'admin-tab-active' : 'text-gray-400'}`}
                        >
                            Calendar
                        </button>
                    </div>

                    {subView === 'Tasks' && (
                        <div className="space-y-10">
                            {/* Venter p√• tildeling */}
                            <section>
                                <div className="flex items-center justify-between mb-4">
                                    <div className="flex items-center gap-2">
                                        <span className="w-2 h-2 rounded-full bg-amber-400"></span>
                                        <div>
                                            <p className="text-[11px] font-black uppercase tracking-[0.25em] text-gray-400">
                                                Venter p√• tildeling ({unassigned.length})
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div className="space-y-4">
                                    {unassigned.map(req => {
                                        const tag = typeTag(req.type);
                                        return (
                                            <div
                                                key={req.id}
                                                className="glass-card px-10 py-7 bg-white border-l-4 border-l-amber-300 shadow-sm flex items-center justify-between"
                                            >
                                                <div className="flex-1 pr-6">
                                                    <div className="flex items-center gap-3 mb-2">
                                                        <span
                                                            className={
                                                                'text-[9px] font-black uppercase tracking-widest px-3 py-1 rounded-full ' +
                                                                tag.classes
                                                            }
                                                        >
                                                            {tag.label}
                                                        </span>
                                                    </div>
                                                    <h5 className="font-black text-xl mb-1">{req.title}</h5>
                                                    <p className="text-[11px] font-bold text-gray-400 uppercase">
                                                        {req.requested_by}
                                                    </p>
                                                </div>
                                                <div className="flex items-center gap-4">
                                                    <select
                                                        value={req.assigned_to}
                                                        onChange={e =>
                                                            onUpdate('requests', req.id, {
                                                                assigned_to: e.target.value
                                                            })
                                                        }
                                                        className="bg-amber-50 text-amber-700 text-xs font-black uppercase tracking-widest rounded-full px-4 py-2 border border-amber-100"
                                                    >
                                                        {['Ikke tildelt', 'Henrik', 'Marthe', 'Karolina'].map(m => (
                                                            <option key={m}>{m}</option>
                                                        ))}
                                                    </select>
                                                    <button
                                                        onClick={() => onDecide(req.id, 'Completed')}
                                                        className="bg-[#0058AB] text-white px-8 py-3 rounded-xl font-black text-[10px]"
                                                    >
                                                        L√òS
                                                    </button>
                                                    <button
                                                        onClick={() => onDecide(req.id, 'Rejected')}
                                                        className="bg-red-500 text-white px-8 py-3 rounded-xl font-black text-[10px]"
                                                    >
                                                        AVSL√Ö
                                                    </button>
                                                </div>
                                            </div>
                                        );
                                    })}
                                    {unassigned.length === 0 && (
                                        <p className="text-xs text-gray-400 font-bold italic ml-2">
                                            Ingen saker venter p√• tildeling.
                                        </p>
                                    )}
                                </div>
                            </section>

                            {/* Tildelte saker */}
                            <section>
                                <p className="text-[11px] font-black uppercase tracking-[0.25em] text-gray-400 mb-4">
                                    Tildelte saker ({assigned.length})
                                </p>
                                <div className="space-y-6">
                                    {assigned.map(req => {
                                        const tag = typeTag(req.type);
                                        return (
                                            <div
                                                key={req.id}
                                                className="glass-card px-10 py-7 bg-white border-l-4 border-l-sky-400 shadow-sm flex items-center justify-between"
                                            >
                                                <div className="flex-1 pr-6">
                                                    <div className="flex items-center gap-3 mb-2">
                                                        <span
                                                            className={
                                                                'text-[9px] font-black uppercase tracking-widest px-3 py-1 rounded-full ' +
                                                                tag.classes
                                                            }
                                                        >
                                                            {tag.label}
                                                        </span>
                                                    </div>
                                                    <h5 className="font-black text-xl mb-1">{req.title}</h5>
                                                    <p className="text-[11px] font-bold text-gray-400 uppercase">
                                                        {req.requested_by}
                                                    </p>
                                                </div>
                                                <div className="flex items-center gap-4">
                                                    <select
                                                        value={req.assigned_to}
                                                        onChange={e =>
                                                            onUpdate('requests', req.id, {
                                                                assigned_to: e.target.value
                                                            })
                                                        }
                                                        className="bg-sky-50 text-sky-700 text-xs font-black uppercase tracking-widest rounded-full px-4 py-2 border border-sky-100"
                                                    >
                                                        {['Ikke tildelt', 'Henrik', 'Marthe', 'Karolina'].map(m => (
                                                            <option key={m}>{m}</option>
                                                        ))}
                                                    </select>
                                                    <button
                                                        onClick={() => onDecide(req.id, 'Completed')}
                                                        className="bg-[#0058AB] text-white px-8 py-3 rounded-xl font-black text-[10px]"
                                                    >
                                                        L√òS
                                                    </button>
                                                    <button
                                                        onClick={() => onDecide(req.id, 'Rejected')}
                                                        className="bg-red-500 text-white px-8 py-3 rounded-xl font-black text-[10px]"
                                                    >
                                                        AVSL√Ö
                                                    </button>
                                                </div>
                                            </div>
                                        );
                                    })}
                                    {assigned.length === 0 && (
                                        <p className="text-xs text-gray-400 font-bold italic ml-2">
                                            Ingen tildelte saker akkurat n√•.
                                        </p>
                                    )}
                                </div>
                            </section>
                        </div>
                    )}

                    {subView === 'Access' &&
                        requests
                            .filter(r => r.status === 'Open' && r.type === 'ACCESS')
                            .map(req => (
                                <div
                                    key={req.id}
                                    className="glass-card p-8 flex justify-between items-center bg-white border-l-8 border-l-amber-400 mb-4 shadow-sm"
                                >
                                    <div className="flex-1 pr-6">
                                        <h5 className="font-black text-xl line-clamp-3">{req.title}</h5>
                                        <p className="text-xs font-bold text-gray-400">{req.requested_by}</p>
                                    </div>
                                    <div className="flex gap-4">
                                        <button
                                            onClick={() => onDecide(req.id, 'Completed')}
                                            className="bg-emerald-500 text-white px-8 py-3 rounded-xl font-black text-[10px]"
                                        >
                                            GODKJENN
                                        </button>
                                        <button
                                            onClick={() => onDecide(req.id, 'Rejected')}
                                            className="bg-red-500 text-white px-8 py-3 rounded-xl font-black text-[10px]"
                                        >
                                            AVSL√Ö
                                        </button>
                                    </div>
                                </div>
                            ))}

                    {subView === 'Logg' && (
                        <div className="space-y-4">
                            {requests
                                .filter(r => r.status !== 'Open')
                                .map(req => (
                                    <div
                                        key={req.id}
                                        className="glass-card p-8 bg-gray-50 border border-gray-100 flex flex-col gap-4 shadow-sm"
                                    >
                                        <div className="flex justify-between items-start">
                                            <div>
                                                <span
                                                    className={`text-[9px] font-black uppercase px-2 py-1 rounded ${
                                                        req.status === 'Completed'
                                                            ? 'bg-emerald-100 text-emerald-700'
                                                            : 'bg-red-100 text-red-700'
                                                    }`}
                                                >
                                                    {req.status === 'Completed' ? 'L√òST' : 'AVVIST'}
                                                </span>
                                                <h4 className="text-lg font-black mt-2">{req.title}</h4>
                                                <p className="text-xs text-gray-400 font-bold uppercase tracking-wider">
                                                    {req.requested_by}
                                                </p>
                                            </div>
                                            <div className="text-right">
                                                <p className="text-[10px] text-gray-400 font-black uppercase">
                                                    Saksbehandler
                                                </p>
                                                <p className={`font-black ${getStaffColor(req.assigned_to)}`}>
                                                    {req.assigned_to}
                                                </p>
                                            </div>
                                        </div>
                                        <div className="grid grid-cols-3 gap-8 py-4 border-y border-gray-100">
                                            <div>
                                                <p className="text-[9px] text-gray-400 font-black uppercase">
                                                    Meldt inn
                                                </p>
                                                <p className="text-sm font-bold">
                                                    {new Date(req.created_at).toLocaleDateString()} kl.{' '}
                                                    {new Date(req.created_at).toLocaleTimeString([], {
                                                        hour: '2-digit',
                                                        minute: '2-digit'
                                                    })}
                                                </p>
                                            </div>
                                            <div>
                                                <p className="text-[9px] text-gray-400 font-black uppercase">
                                                    L√∏st/Avvist
                                                </p>
                                                <p className="text-sm font-bold">
                                                    {req.resolved_at
                                                        ? `${new Date(
                                                              req.resolved_at
                                                          ).toLocaleDateString()} kl. ${new Date(
                                                              req.resolved_at
                                                          ).toLocaleTimeString([], {
                                                              hour: '2-digit',
                                                              minute: '2-digit'
                                                          })}`
                                                        : '-'}
                                                </p>
                                            </div>
                                            <div>
                                                <p className="text-[9px] text-gray-400 font-black uppercase">
                                                    Varighet
                                                </p>
                                                <p className="text-sm font-bold">L√∏st i portal</p>
                                            </div>
                                        </div>
                                        {req.admin_reason && (
                                            <div className="bg-white p-4 rounded-xl border border-gray-100 italic text-sm font-medium">
                                                "{req.admin_reason}"
                                            </div>
                                        )}
                                    </div>
                                ))}
                        </div>
                    )}

                    {subView === 'Live' &&
                        systems.map(s => (
                            <div
                                key={s.id}
                                className="glass-card p-10 bg-white mb-6 space-y-4 shadow-sm"
                            >
                                <div className="flex gap-4">
                                    <input
                                        defaultValue={s.system_name}
                                        onBlur={e =>
                                            onUpdate('system_status', s.id, {
                                                system_name: e.target.value
                                            })
                                        }
                                        className="input-field font-bold"
                                    />
                                    <select
                                        value={s.status}
                                        onChange={e =>
                                            onUpdate('system_status', s.id, {
                                                status: e.target.value
                                            })
                                        }
                                        className="input-field w-40 font-black uppercase text-xs"
                                    >
                                        <option value="online">Online</option>
                                        <option value="degraded">Degradert</option>
                                    </select>
                                </div>
                                <input
                                    defaultValue={s.status_message}
                                    onBlur={e =>
                                        onUpdate('system_status', s.id, {
                                            status_message: e.target.value
                                        })
                                    }
                                    className="input-field italic"
                                    placeholder="Statusmelding..."
                                />
                            </div>
                        ))}

                    {subView === 'Insights' &&
                        insights.map(i => (
                            <div
                                key={i.id}
                                className="glass-card p-10 bg-white mb-6 space-y-4 shadow-sm"
                            >
                                <div className="flex justify-between items-center border-b pb-4">
                                    <h5 className="font-black text-xl">Rediger Insight Card</h5>
                                    <div className="flex items-center gap-2">
                                        <span className="text-[10px] font-black uppercase text-gray-400">
                                            Aktiv
                                        </span>
                                        <input
                                            type="checkbox"
                                            checked={i.is_active}
                                            onChange={e =>
                                                onUpdate('insights', i.id, {
                                                    is_active: e.target.checked
                                                })
                                            }
                                            className="w-6 h-6 accent-[#0058AB]"
                                        />
                                    </div>
                                </div>
                                <div className="grid grid-cols-2 gap-4">
                                    <div>
                                        <p className="text-[9px] font-black uppercase text-gray-400 ml-2 mb-1">
                                            Tittel
                                        </p>
                                        <input
                                            defaultValue={i.title}
                                            onBlur={e =>
                                                onUpdate('insights', i.id, {
                                                    title: e.target.value
                                                })
                                            }
                                            className="input-field"
                                        />
                                    </div>
                                    <div>
                                        <p className="text-[9px] font-black uppercase text-gray-400 ml-2 mb-1">
                                            Tag (f.eks PowerBI)
                                        </p>
                                        <input
                                            defaultValue={i.tag}
                                            onBlur={e =>
                                                onUpdate('insights', i.id, {
                                                    tag: e.target.value
                                                })
                                            }
                                            className="input-field"
                                        />
                                    </div>
                                </div>
                                <div>
                                    <p className="text-[9px] font-black uppercase text-gray-400 ml-2 mb-1">
                                        Bildelink (URL)
                                    </p>
                                    <input
                                        defaultValue={i.image_url}
                                        onBlur={e =>
                                            onUpdate('insights', i.id, {
                                                image_url: e.target.value
                                            })
                                        }
                                        className="input-field"
                                    />
                                </div>
                                <div>
                                    <p className="text-[9px] font-black uppercase text-gray-400 ml-2 mb-1">
                                        Rapportlenke (URL)
                                    </p>
                                    <input
                                        defaultValue={i.link_url}
                                        onBlur={e =>
                                            onUpdate('insights', i.id, {
                                                link_url: e.target.value
                                            })
                                        }
                                        className="input-field"
                                    />
                                </div>
                            </div>
                        ))}

                    {subView === 'Calendar' && (
                        <CalendarAdmin events={calendarEvents} onSave={onSaveCalendar} />
                    )}
                </div>
            );
        };

        const CalendarAdmin = ({ events, onSave }) => {
            const today = new Date();
            const [year, setYear] = useState(today.getFullYear());
            const [month, setMonth] = useState(today.getMonth());
            const [selectedDate, setSelectedDate] = useState(null);
            const [formType, setFormType] = useState('OFFICE');
            const [formTitle, setFormTitle] = useState('');
            const [formNote, setFormNote] = useState('');

            const monthNames = [
                'Januar','Februar','Mars','April','Mai','Juni',
                'Juli','August','September','Oktober','November','Desember'
            ];
            const weekdayShort = ['Man','Tir','Ons','Tor','Fre','L√∏r','S√∏n'];

            const startOfMonth = new Date(year, month, 1);
            const startWeekday = (startOfMonth.getDay() + 6) % 7;
            const daysInMonth = new Date(year, month + 1, 0).getDate();

            const weeks = [];
            let currentDay = 1 - startWeekday;
            while (currentDay <= daysInMonth) {
                const week = [];
                for (let i = 0; i < 7; i++) {
                    if (currentDay < 1 || currentDay > daysInMonth) {
                        week.push(null);
                    } else {
                        const dateStr = `${year}-${String(month + 1).padStart(2,'0')}-${String(currentDay).padStart(2,'0')}`;
                        const dayEvents = events.filter(e => e.date === dateStr);
                        week.push({ day: currentDay, dateStr, events: dayEvents });
                    }
                    currentDay++;
                }
                weeks.push(week);
            }

            const changeMonth = (delta) => {
                const newDate = new Date(year, month + delta, 1);
                setYear(newDate.getFullYear());
                setMonth(newDate.getMonth());
            };

            const openFormForDate = (dateStr) => {
                setSelectedDate(dateStr);
                setFormType('OFFICE');
                setFormTitle('');
                setFormNote('');
            };

            const saveEvent = async () => {
                if (!selectedDate || !formTitle) return;
                await onSave({
                    date: selectedDate,
                    type: formType,
                    title: formTitle,
                    note: formNote
                });
                setSelectedDate(null);
            };

            const typeLabel = {
                TASK: 'Oppgave',
                OFFICE: 'Kontordag',
                HOLIDAY: 'Ferie'
            };

            const typeClasses = {
                TASK: 'bg-sky-100 text-sky-700',
                OFFICE: 'bg-emerald-100 text-emerald-700',
                HOLIDAY: 'bg-amber-100 text-amber-700'
            };

            const readableDate = (iso) => {
                const d = new Date(iso);
                return d.toLocaleDateString('no-NO', { day: '2-digit', month: 'long', year: 'numeric' });
            };

            return (
                <div className="space-y-6">
                    <div className="flex items-center justify-between">
                        <h2 className="text-3xl font-black italic text-[#0058AB]">XD Calendar</h2>
                        <div className="flex items-center gap-3">
                            <button
                                onClick={() => changeMonth(-1)}
                                className="px-4 py-2 text-xs font-black uppercase tracking-widest rounded-xl bg-white border border-gray-200 btn-clickable"
                            >
                                ‚Üê Forrige
                            </button>
                            <div className="text-sm font-black text-gray-500 uppercase tracking-[0.25em]">
                                {monthNames[month]} {year}
                            </div>
                            <button
                                onClick={() => changeMonth(1)}
                                className="px-4 py-2 text-xs font-black uppercase tracking-widest rounded-xl bg-white border border-gray-200 btn-clickable"
                            >
                                Neste ‚Üí
                            </button>
                        </div>
                    </div>

                    <div className="glass-card p-8 bg-white shadow-sm">
                        <div className="grid grid-cols-7 gap-3 mb-3">
                            {weekdayShort.map(d => (
                                <div
                                    key={d}
                                    className="text-[10px] font-black uppercase tracking-widest text-gray-400 text-center"
                                >
                                    {d}
                                </div>
                            ))}
                        </div>
                        <div className="grid grid-cols-7 gap-3">
                            {weeks.map((week, wi) =>
                                week.map((cell, ci) => {
                                    if (!cell) {
                                        return (
                                            <div key={`${wi}-${ci}`} className="h-24 rounded-3xl bg-gray-50"></div>
                                        );
                                    }
                                    const isToday =
                                        cell.dateStr ===
                                        new Date().toISOString().split('T')[0];

                                    return (
                                        <button
                                            key={cell.dateStr}
                                            onClick={() => openFormForDate(cell.dateStr)}
                                            className={`h-24 rounded-3xl text-left px-3 pt-2 pb-1 bg-gray-50 hover:bg-gray-100 border border-transparent hover:border-[#0058AB]/20 transition flex flex-col`}
                                        >
                                            <div className="flex items-center justify-between mb-1">
                                                <span className="text-xs font-black">
                                                    {cell.day}
                                                </span>
                                                {isToday && (
                                                    <span className="text-[8px] font-black text-emerald-500 uppercase">
                                                        I dag
                                                    </span>
                                                )}
                                            </div>
                                            <div className="space-y-1 overflow-hidden">
                                                {cell.events.slice(0,3).map(ev => (
                                                    <div
                                                        key={ev.id}
                                                        className={`text-[9px] px-2 py-1 rounded-full font-bold truncate ${typeClasses[ev.type]}`}
                                                    >
                                                        {typeLabel[ev.type]} ¬∑ {ev.title}
                                                    </div>
                                                ))}
                                                {cell.events.length > 3 && (
                                                    <div className="text-[9px] text-gray-400 font-bold">
                                                        +{cell.events.length - 3} flere
                                                    </div>
                                                )}
                                            </div>
                                        </button>
                                    );
                                })
                            )}
                        </div>
                    </div>

                    {selectedDate && (
                        <div className="fixed inset-0 bg-black/40 backdrop-blur-sm z-40 flex items-center justify-center p-6">
                            <div className="bg-white p-8 rounded-[2rem] w-full max-w-lg shadow-2xl">
                                <h3 className="text-2xl font-black mb-1">Ny kalenderoppf√∏ring</h3>
                                <p className="text-[11px] font-black uppercase tracking-[0.25em] text-gray-400 mb-4">
                                    {readableDate(selectedDate)}
                                </p>

                                <div className="grid grid-cols-3 gap-2 mb-6">
                                    <button
                                        onClick={() => setFormType('TASK')}
                                        className={`py-2 rounded-xl text-[10px] font-black uppercase tracking-widest border ${
                                            formType === 'TASK'
                                                ? 'bg-sky-500 text-white border-sky-500'
                                                : 'bg-sky-50 text-sky-700 border-sky-100'
                                        }`}
                                    >
                                        Oppgave
                                    </button>
                                    <button
                                        onClick={() => setFormType('OFFICE')}
                                        className={`py-2 rounded-xl text-[10px] font-black uppercase tracking-widest border ${
                                            formType === 'OFFICE'
                                                ? 'bg-emerald-500 text-white border-emerald-500'
                                                : 'bg-emerald-50 text-emerald-700 border-emerald-100'
                                        }`}
                                    >
                                        Kontordag
                                    </button>
                                    <button
                                        onClick={() => setFormType('HOLIDAY')}
                                        className={`py-2 rounded-xl text-[10px] font-black uppercase tracking-widest border ${
                                            formType === 'HOLIDAY'
                                                ? 'bg-amber-500 text-white border-amber-500'
                                                : 'bg-amber-50 text-amber-700 border-amber-100'
                                        }`}
                                    >
                                        Ferie
                                    </button>
                                </div>

                                <p className="text-[10px] font-black uppercase tracking-widest text-gray-400 mb-2 ml-1">
                                    Tittel
                                </p>
                                <input
                                    value={formTitle}
                                    onChange={e => setFormTitle(e.target.value)}
                                    className="input-field mb-4"
                                    placeholder="F.eks. 'XD kontordag', 'Henrik ferie', 'Leveranse HCS'"
                                />

                                <p className="text-[10px] font-black uppercase tracking-widest text-gray-400 mb-2 ml-1">
                                    Notat (valgfritt)
                                </p>
                                <textarea
                                    value={formNote}
                                    onChange={e => setFormNote(e.target.value)}
                                    className="input-field h-24 mb-6"
                                    placeholder="Detaljer, hvem som gjelder osv."
                                ></textarea>

                                <div className="flex gap-4 justify-end">
                                    <button
                                        onClick={() => setSelectedDate(null)}
                                        className="text-sm font-bold text-gray-400"
                                    >
                                        Avbryt
                                    </button>
                                    <button
                                        onClick={saveEvent}
                                        className="px-8 py-3 rounded-2xl bg-[#0058AB] text-white text-[11px] font-black uppercase tracking-widest btn-clickable"
                                    >
                                        Lagre
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const LoginScreen = ({ onLogin }) => {
            const [mode, setMode] = useState('login');
            const [email, setEmail] = useState('');
            const [pass, setPass] = useState('');
            const [confirmPass, setConfirmPass] = useState('');
            const [message, setMessage] = useState('');

            const handleAuth = async e => {
                e.preventDefault();
                setMessage('');
                const isAllowedDomain =
                    email.toLowerCase().endsWith('@ingka.ikea.com') ||
                    email.toLowerCase().endsWith('@ingka');
                if (mode === 'signup') {
                    if (!isAllowedDomain) {
                        setMessage(
                            'Kun brukere med @ingka.ikea.com eller @ingka e-post kan opprette konto.'
                        );
                        return;
                    }
                    if (pass !== confirmPass) {
                        setMessage('Passordene samsvarer ikke.');
                        return;
                    }
                    const { error } = await supabaseClient.auth.signUp({
                        email,
                        password: pass
                    });
                    if (error) setMessage(error.message);
                    else setMessage('Bruker opprettet! Sjekk e-posten din for bekreftelse.');
                } else if (mode === 'login') {
                    const { data, error } = await supabaseClient.auth.signInWithPassword({
                        email,
                        password: pass
                    });
                    if (error) setMessage('Feil e-post eller passord.');
                    else onLogin(data.user);
                } else if (mode === 'forgot') {
                    const { error } = await supabaseClient.auth.resetPasswordForEmail(email);
                    if (error) setMessage(error.message);
                    else setMessage('Instruksjoner for nullstilling sendt til e-post.');
                }
            };

            return (
                <div className="flex h-screen w-screen overflow-hidden bg-white">
                    <div className="w-[450px] p-16 flex flex-col justify-center">
                        <h1 className="text-4xl font-black italic mb-2 text-[#0058AB] leading-none">RCMP</h1>
                        <p className="text-[10px] font-bold uppercase tracking-[0.2em] text-slate-400 mb-10">
                            Experience Design Portal
                        </p>
                        <h2 className="text-2xl font-black mb-6">
                            {mode === 'login'
                                ? 'Logg inn'
                                : mode === 'signup'
                                ? 'Ny bruker'
                                : 'Glemt passord'}
                        </h2>
                        <form onSubmit={handleAuth} className="space-y-4">
                            <input
                                type="email"
                                value={email}
                                onChange={e => setEmail(e.target.value)}
                                className="input-field"
                                placeholder="E-post"
                                required
                            />
                            {mode !== 'forgot' && (
                                <input
                                    type="password"
                                    value={pass}
                                    onChange={e => setPass(e.target.value)}
                                    className="input-field"
                                    placeholder="Passord"
                                    required
                                />
                            )}
                            {mode === 'signup' && (
                                <input
                                    type="password"
                                    value={confirmPass}
                                    onChange={e => setConfirmPass(e.target.value)}
                                    className="input-field"
                                    placeholder="Bekreft passord"
                                    required
                                />
                            )}
                            {message && (
                                <p
                                    className={`text-xs font-bold leading-relaxed ${
                                        message.includes('sendt') || message.includes('opprettet')
                                            ? 'text-emerald-500'
                                            : 'text-red-500'
                                    }`}
                                >
                                    {message}
                                </p>
                            )}
                            <button className="bg-[#0058AB] text-white p-5 rounded-2xl font-black uppercase tracking-widest btn-clickable w-full shadow-lg mt-4">
                                {mode === 'login'
                                    ? 'Logg inn ‚ûú'
                                    : mode === 'signup'
                                    ? 'Opprett bruker ‚ûú'
                                    : 'Nullstill ‚ûú'}
                            </button>
                        </form>
                        <div className="mt-8 space-y-2">
                            {mode === 'login' ? (
                                <>
                                    <button
                                        onClick={() => {
                                            setMode('signup');
                                            setMessage('');
                                        }}
                                        className="text-xs font-bold text-gray-500 hover:text-[#0058AB] block"
                                    >
                                        Har du ikke konto? Lag ny bruker
                                    </button>
                                    <button
                                        onClick={() => {
                                            setMode('forgot');
                                            setMessage('');
                                        }}
                                        className="text-xs font-bold text-gray-500 hover:text-[#0058AB] block"
                                    >
                                        Glemt passord?
                                    </button>
                                </>
                            ) : (
                                <button
                                    onClick={() => {
                                        setMode('login');
                                        setMessage('');
                                    }}
                                    className="text-xs font-bold text-gray-500 hover:text-[#0058AB] block"
                                >
                                    Tilbake til logg inn
                                </button>
                            )}
                        </div>
                    </div>

                    <div className="flex-1 hero-gradient flex items-center justify-center relative overflow-hidden">
                        <div className="hero-bg-text">RCMP</div>
                        <div className="relative z-10 text-center">
                            <h2 className="hero-text-main">Experience Design</h2>
                            <p className="hero-text-sub">NORWAY HUB</p>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
